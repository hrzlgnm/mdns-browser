name: "üñ•Ô∏è"

on:
  pull_request:
    paths-ignore:
      - ".zed/**"
      - "**/*.md"
      - ".coderabbitai.yaml"
      - ".github/*.yml"
      - ".github/docker/**"
      - ".github/ISSUE_TEMPLATE/**"
      - ".github/renovate.json5"
      - ".github/workflows/bump-*"
      - ".github/workflows/docker-*"
      - ".github/workflows/pr-label*"
      - ".github/workflows/*publish*"
      - ".github/workflows/release-*"
      - ".github/workflows/void-*"
      - ".github/workflows/winget-*"
      - "aur-template/**"
      - "screenshots/**"
      - "xbps-template/**"
    branches:
      - main

concurrency:
  group: ${{ format('desktop-{0}', github.ref) }}
  cancel-in-progress: true

jobs:
  lint:
    uses: ./.github/workflows/ci-lint.yml
  test:
    uses: ./.github/workflows/ci-test.yml
  build:
    permissions:
      contents: write
    uses: ./.github/workflows/desktop-tauri.yml
    secrets: inherit
