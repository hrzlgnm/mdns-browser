name: "PR Build"

on:
  pull_request:
    branches:
      - main

concurrency:
  # On main, we want all builds to complete even if merging happens faster to make it easier to discover at which point something broke.
  group: ${{ github.ref == 'refs/heads/main' && format('ci-main-{0}', github.sha) || format('ci-{0}', github.ref) }}

jobs:
  call-tauri-workflow:
    permissions:
      contents: write
    uses: ./.github/workflows/tauri-workflow.yml
    secrets: inherit
